<div class="players-container"> <h3>Players</h3> <ul> <li ng-repeat="player in game.players"> <a ng-class="{active: isActivePlayer(player)}" href="#/games/{{game.id}}/players/{{player.id}}">{{player.id}}</a> <span ng-if="isCurrentPlayer(player)">(showing)</span> </li> </ul> </div> <div class="kingdom-container"> <ul> <li ng-repeat="name in commonCards"> <button ng-init="cards = game.kingdom.cardMarket[name]" class="btn" ng-click="purchase(cards[0])" ng-disabled="!canAfford(cards[0]) || getCurrentPlayer().currentTurn.phase !== 'BUY'"> <img src="{{getImagePath(cards[0])}}"> <span class="name">{{name}}</span> <span class="count">({{cards.length}})</span> </button> </li> </ul> </div> <div class="kingdom-container"> <ul> <li ng-repeat="name in kingdomCards"> <button ng-init="cards = game.kingdom.cardMarket[name]" class="btn" ng-click="purchase(cards[0])" ng-disabled="!canAfford(cards[0]) || getCurrentPlayer().currentTurn.phase !== 'BUY'"> <img src="{{getImagePath(cards[0])}}"> <span class="name">{{name}}</span> <span class="count">({{cards.length}})</span> </button> </li> </ul> </div> <div class="controls-container" ng-if="hasCurrentPlayer()" ng-init="player = getCurrentPlayer(); turn = player.currentTurn;"> <p>Phase: {{turn.phase}}</p> <span ng-if="test">Id: {{player.id}}</span><br> <span>Actions: {{turn.actionPool}}</span><br> <span>Buys: {{turn.buyPool}}</span><br> <span>Money: {{turn.money}}</span><br> <span ng-if="test">Victory Points: {{player.victoryPoints}}</span><br> <p ng-if="test"> <button ng-click="shuffle()">Shuffle</button> </p> <p ng-if="test"> <button ng-click="drawHand()">Draw Hand</button> </p> <p ng-if="test"> <button ng-click="discardHand()">Discard Hand</button> </p> <p> <button ng-if="turn.phase != 'BUY' && turn.phase != 'WAITING_FOR_OPPONENT'" ng-disable="turn.phase != 'ACTION'" ng-click="nextPhase()">Next Phase</button> <button ng-if="turn.phase == 'BUY'" ng-click="nextPhase()">End Turn</button> </p> </div> <div class="modal choice-box" ng-if="game.choices.length > 0" ng-init="player = getCurrentPlayer(); turn = game.turn;"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button> <h4 class="modal-title" id="modal-title">Choice<a class="anchorjs-link" href="#modal-title"><span class="anchorjs-icon"></span></a></h4> </div> <p ng-if="choice.message">{{choice.message}}</p> <ul ng-init="choice = game.choices[0];"> <li ng-repeat="card in choice.cardOptions"> <button ng-disabled="" ng-click="choose(game, player, choice, card)">{{card.name}}</button> </li> </ul> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Done</button> </div> </div> </div> </div> <div class="play-container" ng-if="hasCurrentPlayer()" ng-init="player = getCurrentPlayer(); turn = game.turn;"> <h3>Play ({{turn.play.length}})</h3> <ul> <li ng-repeat="card in turn.play"> <button ng-disabled="" ng-click="play(card)">{{card.name}}</button> </li> </ul> </div> <div class="player-area" ng-if="hasCurrentPlayer()"> <div class="hand-container" ng-init="player = getCurrentPlayer(); turn = game.turn;"> <h3>Hand ({{player.hand.length}})</h3> <ul> <li ng-repeat="card in player.hand"> <button ng-disabled="" ng-click="play(card)"> <img src="{{getImagePath(card)}}"> </button> </li> </ul> </div> <div class="cards-container" ng-init="player = getCurrentPlayer(); turn = game.turn;"> <div class="deck-container"> <button> <img src="/images/card-back.jpg"> <span class="count">{{player.deck.length}}</span> </button> </div> <div class="discard-container"> <button> <img ng-show="player.discard.length == 0" src="/images/empty-card-back.jpg"> <img ng-show="player.discard.length > 0" src="{{getImagePath(player.discard[player.discard.length-1])}}"> <span class="count">{{player.discard.length}}</span> </button> </div> </div> </div>