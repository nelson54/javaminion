<div class="common-container" *ngIf="gamePlay.hasCurrentPlayer()">
  <ul>
    <li *ngFor="let card of gamePlay.commonCards.cardMarket | sorterCommon" style="position: relative">
      <a
        class="btn btn-link btn-card"
        [class.disabled]="
          !(
            gamePlay.isOption(card.id) ||
            (gamePlay.player.currentTurn.phase === 'BUY' &&
              gamePlay.player.currentTurn.buyPool > 0 &&
              gamePlay.canAfford(card))
          )
        "
        [ngClass]="{ 'btn-choice': gamePlay.isOption(card.id) }"
        (click)="gamePlay.selectCard(card)"
      >
        <img [src]="gamePlay.getImagePath(card)" />
        <span class="count text-dark">{{ card.remaining }}</span>
      </a>
      <button
        class="link"
        style="position: absolute; bottom: 20px; right:0; opacity: .6;"
        (click)="gamePlay.showCardDetails(gamePlay.getLargeImagePath(card))"
      >
        +
      </button>
    </li>
  </ul>
</div>

<div class="kingdom-container" *ngIf="gamePlay.hasCurrentPlayer()" style="margin-top:-15px;">
  <ul>
    <li *ngFor="let card of gamePlay.kingdomCards.cardMarket | sorterKingdom" style="position: relative">
      <!-- sort=" | orderBy : 'cost.money'" -->
      <a
        class="btn btn-link btn-card"
        [class.disabled]="
          !(
            gamePlay.isOption(card.id) ||
            (gamePlay.player.currentTurn.phase === 'BUY' &&
              gamePlay.player.currentTurn.buyPool > 0 &&
              gamePlay.canAfford(card))
          )
        "
        [ngClass]="{ 'btn-choice': gamePlay.isOption(card.id) }"
        (click)="gamePlay.selectCard(card)"
      >
        <img [src]="gamePlay.getImagePath(card)" />
        <span class="count text-dark">{{ card.remaining }}</span>
      </a>
      <button
        class="link"
        style="position: absolute; bottom: 20px; right:0; opacity: .6;"
        (click)="gamePlay.showCardDetails(gamePlay.getLargeImagePath(card))"
      >
        +
      </button>
    </li>
  </ul>
</div>
